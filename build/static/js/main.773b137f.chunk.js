(this["webpackJsonptodoapp-react"]=this["webpackJsonptodoapp-react"]||[]).push([[0],{121:function(e,t,a){e.exports=a(160)},149:function(e,t,a){},150:function(e,t,a){},160:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(11),c=a.n(o),s=a(12),i=a(13),l=a(15),u=a(16),m=a(14),d=a(42),h=a(32),p=a(54),g=a.n(p),f=a(10),v=a(22),b=a.n(v),E=function(e){return b.a.get("https://exceed-react.herokuapp.com/api/data/",{headers:{"auth-token":"".concat(e)}}).then((function(e){return e.data})).catch((function(e){throw e}))},k=function(e,t,a){return b.a.post("https://exceed-react.herokuapp.com/api/data/",{value:e,user:a},{headers:{"auth-token":"".concat(t)}}).then((function(e){return e.data})).catch((function(e){throw e}))},O=function(e,t,a){return b.a.patch("https://exceed-react.herokuapp.com/api/data/".concat(e.id),{isCompleted:e.isCompleted,user:a},{headers:{"auth-token":"".concat(t)}}).then((function(e){return e.data})).catch((function(e){throw e}))},y=function(e,t){return b.a.delete("https://exceed-react.herokuapp.com/api/data/".concat(e),{headers:{"auth-token":"".concat(t)}}).then((function(e){return e.data})).catch((function(e){throw e}))},C=function(e,t,a){return b.a.patch("https://exceed-react.herokuapp.com/api/data/single/".concat(e.id),{value:e.newValue,user:a},{headers:{"auth-token":"".concat(t)}}).then((function(e){return e.data})).catch((function(e){throw e}))},j=function(e,t){return b.a.delete("https://exceed-react.herokuapp.com/api/data/multiple/".concat(e),{headers:{"auth-token":"".concat(t)}}).then((function(e){return e.data})).catch((function(e){throw e}))},w=function(e,t,a){return b.a.patch("https://exceed-react.herokuapp.com/api/data/multiple/".concat(e),{check:!0,user:a},{headers:{"auth-token":"".concat(t)}}).then((function(e){return e.data})).catch((function(e){throw e}))},P=function(e,t,a){return b.a.patch("https://exceed-react.herokuapp.com/api/data/multiple/".concat(e),{check:!1,user:a},{headers:{"auth-token":"".concat(t)}}).then((function(e){return e.data})).catch((function(e){throw e}))},I=function(e){return{type:"GET_TODOS",payload:e}},S=function(e){return{type:"CHANGE_PAGE",payload:e}},T=function(e){return{type:"LOG_IN",payload:e}},N=function(){return{type:"LOG_OUT"}},x=a(185),L=a(202),A=a(189),_=a(197),U=a(190),z=a(104),W=a.n(z),D=function(e){Object(u.a)(a,e);var t=Object(l.a)(a);function a(){var e;Object(s.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={newValue:e.props.edit,open:!1},e.handleClick=function(){var t=e.props.edit;e.setState({newValue:t,open:!e.state.open})},e.handleChange=function(t){e.setState({newValue:t.target.value})},e.handleSave=function(){var t=e.props,a=t.id,n=t.token,r=t.user,o=t.actions.getTodos,c=function(){return e.setState({open:!1})},s={newValue:e.state.newValue,id:a};e.state.newValue.trim()?(C(s,n,r).then((function(e){return o(e,r)})),c()):c()},e}return Object(i.a)(a,[{key:"render",value:function(){var e=this;return r.a.createElement("div",null,r.a.createElement(x.a,{className:"btn-del",variant:"contained",color:"primary",size:"small",startIcon:r.a.createElement(W.a,null),onClick:function(){return e.handleClick()}},"Edit"),r.a.createElement(L.a,{"aria-labelledby":"form-dialog-title",open:this.state.open,onClose:this.handleClick},r.a.createElement(A.a,null,r.a.createElement(_.a,{autoFocus:!0,margin:"dense",label:"Edit",type:"text",inputProps:{maxLength:30},autoComplete:"off",fullWidth:!0,value:this.state.newValue,onChange:this.handleChange})),r.a.createElement(U.a,null,r.a.createElement(x.a,{color:"primary",onClick:this.handleSave},"Save"))))}}]),a}(n.Component),G=Object(m.b)((function(e){return{token:e.user.token,user:e.user.user}}),(function(e){return{actions:Object(f.b)({getTodos:I},e)}}))(D),V=a(200),R=a(105),q=a.n(R),M=function(e){Object(u.a)(a,e);var t=Object(l.a)(a);function a(){return Object(s.a)(this,a),t.apply(this,arguments)}return Object(i.a)(a,[{key:"render",value:function(){var e=this.props,t=e.data,a=e.check,n=e.del,o=t.map((function(e){return r.a.createElement("div",{key:e._id},r.a.createElement("li",null,r.a.createElement(V.a,{color:"primary",checked:e.isCompleted,onChange:function(t){return a(t,e._id)}}),r.a.createElement("span",{id:"text",className:e.isCompleted?"done":""},e.value),r.a.createElement("div",{className:"btn-div"},r.a.createElement(G,{edit:e.value,id:e._id}),r.a.createElement(x.a,{className:"btn-del",variant:"contained",color:"secondary",size:"small",onClick:function(){return n(e._id)},startIcon:r.a.createElement(q.a,null)},"Delete"))))}));return r.a.createElement("div",null,o)}}]),a}(n.Component),F=function(e){Object(u.a)(a,e);var t=Object(l.a)(a);function a(){var e;Object(s.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).componentDidMount=function(){if(e.props.isLoggedIn){var t=e.props,a=t.actions.getTodos,n=t.token;E(n).then((function(e){return a(e)}))}},e.handleCheck=function(t,a){var n=e.props,r=n.actions.getTodos,o=n.token,c=n.user,s={isCompleted:t.target.checked,id:a};O(s,o,c).then((function(e){return r(e)}))},e.handleDelete=function(t){var a=e.props,n=a.currentItems,r=a.currentPage,o=a.todos,c=a.token,s=a.actions,i=s.getTodos,l=s.changePage;1!==n.length||1===o.length?y(t,c).then((function(e){return i(e)})):y(t,c).then((function(e){return i(e)})).then(l(r-1))},e}return Object(i.a)(a,[{key:"render",value:function(){var e=this.props,t=e.currentItems,a=e.todos;return r.a.createElement("ul",{className:"todos"},a.length?r.a.createElement(M,{data:t,check:this.handleCheck,del:this.handleDelete}):r.a.createElement("h3",null,"No Tasks..."))}}]),a}(n.Component),B=Object(m.b)((function(e){return{todos:e.todos.items,currentPage:e.todos.currentPage,isLoggedIn:e.user.isLoggedIn,token:e.user.token,user:e.user.user}}),(function(e){return{actions:Object(f.b)({getTodos:I,changePage:S},e)}}))(F),H=function(e){Object(u.a)(a,e);var t=Object(l.a)(a);function a(){var e;Object(s.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).handleChange=function(t){(0,e.props.actions.changePage)(t)},e}return Object(i.a)(a,[{key:"render",value:function(){for(var e=this,t=[],a=this.props,n=a.todos,o=a.itemsPerPage,c=1;c<=Math.ceil(n.length/o);c++)t.push(c);return r.a.createElement("ul",{className:"mainpag",style:{display:"flex",marginRight:60,justifyContent:"center",alignItems:"center",marginBottom:10}},t.map((function(t){return r.a.createElement("li",{key:t,className:"pagination"},r.a.createElement("button",{onClick:function(){return e.handleChange(t)}},t))})))}}]),a}(n.Component),J=Object(m.b)((function(e){return{todos:e.todos.items,itemsPerPage:e.todos.itemsPerPage}}),(function(e){return{actions:Object(f.b)({changePage:S},e)}}))(H),$=function(e){Object(u.a)(a,e);var t=Object(l.a)(a);function a(){var e;Object(s.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).handleRemove=function(){var t=e.props,a=t.todos,n=t.token,r=t.actions,o=r.getTodos,c=r.changePage,s=[];a.map((function(e){return e.isCompleted&&s.push(e._id),e})),j(s,n).then((function(e){return o(e)})).then(c(1))},e.handleComplete=function(){var t=e.props,a=t.currentItems,n=t.token,r=t.user,o=t.actions.getTodos,c=[];a.map((function(e){return e.isCompleted||c.push(e._id),null})),w(c,n,r).then((function(e){return o(e)}))},e.handleUncomplete=function(){var t=e.props,a=t.currentItems,n=t.token,r=t.user,o=t.actions.getTodos,c=[];a.map((function(e){return e.isCompleted&&c.push(e._id),null})),P(c,n,r).then((function(e){return o(e)}))},e}return Object(i.a)(a,[{key:"render",value:function(){var e=this.props,t=e.todos,a=e.todo,n=e.checkItems,o=t.length,c=r.a.createElement("div",{className:"buttons"},r.a.createElement(J,null),r.a.createElement("div",{id:"btns"},n?r.a.createElement(x.a,{variant:"contained",className:"btn",size:"large",color:"primary",onClick:this.handleUncomplete},"Uncomplete Tasks"):r.a.createElement(x.a,{variant:"outlined",className:"btn",size:"large",color:"primary",onClick:this.handleComplete},"Complete Tasks"),a?r.a.createElement(x.a,{variant:"contained",className:"btn",size:"large",color:"secondary",onClick:this.handleRemove},"Remove Completed Tasks"):r.a.createElement(x.a,{variant:"outlined",className:"btn",size:"large",color:"secondary"},"Remove Completed Tasks")));return r.a.createElement("div",null,o?c:"")}}]),a}(n.Component),K=Object(m.b)((function(e){return{todos:e.todos.items,token:e.user.token,user:e.user.user}}),(function(e){return{actions:Object(f.b)({getTodos:I,changePage:S},e)}}))($),Q=function(e){Object(u.a)(a,e);var t=Object(l.a)(a);function a(){var e;Object(s.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={value:""},e.onChange=function(t){e.setState({value:t.target.value})},e.handleSubmit=function(t){t.preventDefault();var a=e.props,n=a.currentItems,r=a.currentPage,o=a.token,c=a.user,s=a.actions,i=s.getTodos,l=s.changePage,u=e.state.value.trim(),m=function(){return e.setState({value:""})};10===n.length?u.length&&k(u,o,c).then((function(e){return i(e,c)})).then(l(r+1)).then(m()):u.length?k(u,o,c).then((function(e){return i(e,c)})):m(),m()},e}return Object(i.a)(a,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("form",{id:"form",onSubmit:this.handleSubmit},r.a.createElement(_.a,{label:"Enter Task",id:"outlined-size-small",variant:"outlined",size:"small",autoComplete:"off",inputProps:{maxLength:30},value:this.state.value,onChange:this.onChange,required:!0}),r.a.createElement(x.a,{color:"primary",variant:"outlined",size:"medium",type:"submit"},"Add Task")))}}]),a}(n.Component),X=Object(m.b)((function(e){return{todos:e.todos.items,currentPage:e.todos.currentPage,token:e.user.token,user:e.user.user}}),(function(e){return{actions:Object(f.b)({getTodos:I,changePage:S},e)}}))(Q),Y=a(191),Z=(a(149),function(e){Object(u.a)(a,e);var t=Object(l.a)(a);function a(){return Object(s.a)(this,a),t.apply(this,arguments)}return Object(i.a)(a,[{key:"render",value:function(){var e=this.props,t=e.itemsPerPage,a=e.currentPage,n=e.todos,o=a*t,c=o-t,s=n.slice(c,o),i=n.some((function(e){return!0===e.isCompleted})),l=s.every((function(e){return!0===e.isCompleted}));return r.a.createElement(Y.a,{id:"container",maxWidth:"md"},r.a.createElement(X,{currentItems:s}),r.a.createElement(B,{currentItems:s}),r.a.createElement(K,{currentItems:s,todo:i,checkItems:l}))}}]),a}(n.Component)),ee=Object(m.b)((function(e){return{todos:e.todos.items,currentPage:e.todos.currentPage,itemsPerPage:e.todos.itemsPerPage}}))(Z),te=a(192),ae=a(193),ne=a(165),re=a(203),oe=(a(150),function(e){Object(u.a)(a,e);var t=Object(l.a)(a);function a(){return Object(s.a)(this,a),t.apply(this,arguments)}return Object(i.a)(a,[{key:"render",value:function(){var e=this.props.actions.logOut,t={color:"white"},a=r.a.createElement("div",{className:"navbtns"},r.a.createElement(h.b,{to:"/login",style:t},r.a.createElement(x.a,{className:"navbutton",size:"large",color:"inherit"},"Login")),r.a.createElement(h.b,{to:"/signup",style:t},r.a.createElement(x.a,{className:"navbutton",size:"large",color:"inherit"},"Sign Up"))),n=r.a.createElement("div",{className:"navbtns"},r.a.createElement(h.b,{to:"/",style:t},r.a.createElement(x.a,{className:"navbutton",size:"large",color:"inherit"},"Tasks")),r.a.createElement(x.a,{className:"navbutton",size:"large",color:"inherit",onClick:function(){localStorage.removeItem("auth-token"),e()},style:{textDecoration:"underline"}},"Logout"));return r.a.createElement(te.a,{position:"static"},r.a.createElement(ae.a,{id:"toolbar"},r.a.createElement("div",null,r.a.createElement(ne.a,{variant:"h6"},r.a.createElement(re.a,null),"Task App")),this.props.isLoggedIn?n:a))}}]),a}(r.a.Component)),ce=Object(m.b)((function(e){return{isLoggedIn:e.user.isLoggedIn}}),(function(e){return{actions:Object(f.b)({logOut:N},e)}}))(oe),se=a(29),ie=a(73),le=a.n(ie),ue=a(194),me=a(204),de=a(195),he=a(196),pe=a(198),ge=a(74),fe=a.n(ge),ve=(a(98),function(e){Object(u.a)(a,e);var t=Object(l.a)(a);function a(){var e;Object(s.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={email:"",password:"",failed:!1},e.handleEmailChange=function(t){e.setState(Object(se.a)({},e.state,{email:t.target.value}))},e.handlePasswordChange=function(t){e.setState(Object(se.a)({},e.state,{password:t.target.value}))},e.handleSubmit=function(t){t.preventDefault();var a=e.state,n=a.email,r=a.password,o=e.props.actions.logInUser,c={email:n.toLowerCase(),password:r};b.a.post("https://exceed-react.herokuapp.com/api/auth/login",c).then((function(e){localStorage.setItem("auth-token","".concat(e.data)),b.a.defaults.headers.common["auth-token"]=e.data})).then((function(){var e=localStorage.getItem("auth-token"),t=g()(e);o({token:e,decodedToken:t})})).catch((function(){return e.setState(Object(se.a)({},e.state,{password:"",failed:!0}))}))},e}return Object(i.a)(a,[{key:"render",value:function(){return r.a.createElement(Y.a,{component:"main",maxWidth:"xs"},r.a.createElement(ue.a,null),r.a.createElement("div",{className:"paper"},r.a.createElement(me.a,null,r.a.createElement(le.a,null)),r.a.createElement(ne.a,{component:"h1",variant:"h5"},"Sign in"),this.state.failed?r.a.createElement(fe.a,{severity:"error"},"Email or password is incorrect"):null,r.a.createElement("form",{className:"form",onSubmit:this.handleSubmit},r.a.createElement(_.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"email",label:"Email Address",name:"email",value:this.state.email,onChange:this.handleEmailChange,autoComplete:"email",autoFocus:!0}),r.a.createElement(_.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,name:"password",label:"Password",type:"password",id:"password",value:this.state.password,onChange:this.handlePasswordChange,autoComplete:"current-password"}),r.a.createElement(de.a,{control:r.a.createElement(V.a,{value:"remember",color:"primary"}),label:"Remember me"}),r.a.createElement(x.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:"sumbitbtn"},"Sign In"),r.a.createElement(he.a,{container:!0},r.a.createElement(he.a,{item:!0,xs:!0},r.a.createElement(h.b,{to:"#",variant:"body2"},"Forgot password?")),r.a.createElement(he.a,{item:!0},r.a.createElement(h.b,{to:"/signup",variant:"body2"},"Don't have an account? Sign Up"))))),r.a.createElement(pe.a,{mt:8}))}}]),a}(n.Component)),be=Object(m.b)((function(e){return{users:e.user.users}}),(function(e){return{actions:Object(f.b)({logInUser:T},e)}}))(ve),Ee=function(e){Object(u.a)(a,e);var t=Object(l.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).handleEmailChange=function(e){n.setState(Object(se.a)({},n.state,{email:e.target.value}))},n.handlePassChange=function(e){n.setState(Object(se.a)({},n.state,{password:e.target.value}))},n.handleConfPassChange=function(e){n.setState(Object(se.a)({},n.state,{confirmPassword:e.target.value}))},n.handleSubmit=function(e){e.preventDefault();var t=n.state,a=t.password,r=t.confirmPassword,o=t.email,c=n.props.actions.logInUser;if(a===r){var s={email:o.toLowerCase(),password:a};b.a.post("https://exceed-react.herokuapp.com/api/auth/register",s).then((function(){return b.a.post("https://exceed-react.herokuapp.com/api/auth/login",s).then((function(e){localStorage.setItem("auth-token","".concat(e.data)),b.a.defaults.headers.common["auth-token"]=e.data})).then((function(){var e=localStorage.getItem("auth-token"),t=g()(e);c({token:e,decodedToken:t})}))})).catch((function(){return n.setState({email:"",password:"",confirmPassword:"",error:!0,errorMessage:"Email already exists"})}))}else n.setState(Object(se.a)({},n.state,{password:"",confirmPassword:"",error:!0,errorMessage:"Passwords didn't match"}))},n.state={email:"",password:"",confirmPassword:"",error:!1,errorMessage:""},n}return Object(i.a)(a,[{key:"render",value:function(){return r.a.createElement(Y.a,{component:"main",maxWidth:"xs"},r.a.createElement(ue.a,null),r.a.createElement("div",{className:"paper"},r.a.createElement(me.a,null,r.a.createElement(le.a,null)),r.a.createElement(ne.a,{component:"h1",variant:"h5"},"Create New Account"),this.state.error?r.a.createElement(fe.a,{severity:"error"},this.state.errorMessage):null,r.a.createElement("form",{className:"form",onSubmit:this.handleSubmit},r.a.createElement(_.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"email",label:"Email Address",name:"email",autoComplete:"email",autoFocus:!0,value:this.state.email,onChange:this.handleEmailChange}),r.a.createElement(_.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,name:"password",label:"Password",type:"password",id:"password",value:this.state.password,onChange:this.handlePassChange,inputProps:{minLength:6}}),r.a.createElement(_.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,name:"repeatPassword",label:"Repeat Password",type:"password",id:"repeatPassword",value:this.state.confirmPassword,onChange:this.handleConfPassChange,inputProps:{minLength:6}}),r.a.createElement(x.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:"sumbitbtn"},"Sign Up"),r.a.createElement(he.a,{container:!0},r.a.createElement(he.a,{item:!0},r.a.createElement(h.b,{to:"/login",variant:"body2"},"Already have an account? Sign in"))))))}}]),a}(n.Component),ke=Object(m.b)(null,(function(e){return{actions:Object(f.b)({logInUser:T},e)}}))(Ee),Oe=function(e){Object(u.a)(a,e);var t=Object(l.a)(a);function a(){return Object(s.a)(this,a),t.apply(this,arguments)}return Object(i.a)(a,[{key:"render",value:function(){var e=localStorage.getItem("auth-token"),t=this.props.actions.logInUser;if(e){var a=g()(e);1e3*a.exp<Date.now()?localStorage.removeItem("auth-token"):t({token:e,decodedToken:a})}var n=function(){return r.a.createElement(d.a,{to:"/"})};return r.a.createElement(h.a,null,r.a.createElement(ce,null),r.a.createElement(Y.a,null,r.a.createElement(d.d,null,r.a.createElement(d.b,{path:"/",component:this.props.isLoggedIn?ee:function(){return r.a.createElement(d.a,{to:"/login"})},exact:!0}),r.a.createElement(d.b,{path:"/login",component:this.props.isLoggedIn?n:be,exact:!0}),r.a.createElement(d.b,{path:"/signup",component:this.props.isLoggedIn?n:ke,exact:!0}))))}}]),a}(n.Component),ye=Object(m.b)((function(e){return{isLoggedIn:e.user.isLoggedIn}}),(function(e){return{actions:Object(f.b)({logInUser:T},e)}}))(Oe),Ce=a(107),je={items:[],currentPage:1,itemsPerPage:10},we={isLoggedIn:!1,user:"",token:""},Pe=Object(f.c)({todos:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:je,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_TODOS":return Object(se.a)({},e,{items:t.payload});case"CHANGE_PAGE":return Object(se.a)({},e,{currentPage:t.payload});default:return e}},user:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:we,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"LOG_IN":return{isLoggedIn:!0,user:t.payload.decodedToken._id,token:t.payload.token};case"LOG_OUT":return{isLoggedIn:!1,user:"",token:""};default:return e}}}),Ie=[Ce.a],Se=Object(f.d)(Pe,{},f.a.apply(void 0,Ie));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(m.a,{store:Se},r.a.createElement(ye,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},98:function(e,t,a){}},[[121,1,2]]]);
//# sourceMappingURL=main.773b137f.chunk.js.map